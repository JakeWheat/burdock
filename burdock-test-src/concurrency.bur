
include concurrency

pid = spawn(lam(): block:
      x = rcv()
      send(x.ret, "hello " + x.val)
    end
  end)

send(pid, {ret:self, val:"world"})

x = rcv()

check:
  x is "hello world"
end
