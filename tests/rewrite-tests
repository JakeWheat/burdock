Test: empty
Script:
Result:

Test: Trivial
Script:
a = 3
a
Result:
a = 3
a

Test: unrecognised iden
Script:
a
Errors:
unrecognised-identifier([list: "a"])

Test: import
Module:
a = 3
Result:
a = 3
make-module({a:a})

Test: import
File: imported
a = 3
Script:
import file("imported") as i
i.a
Result:
_module-imported = load-module("imported")
_module-imported.a

Test: import unrec
File: imported
a = 3                                                
Script:
import file("imported") as i
i.b
Errors:
unrecognised-identifier([list: "i", "b"])

Test: block
Script:
block:
  a = 3
  a
end
b = 6
block:
  b
end
Result:
block:
  a = 3
  a
end
b = 6
block:
  b
end

Test: block no escape
Script:
block:
  a = 3
end
a
Errors:
unrecognised-identifier([list: "a"])

Test: block no escape module version
Module:
a = 2
block:
  b = 3
end
c = 4
a
Result:
a = 2
block:
  b = 3
end
c = 4
a
make-module({a:a,c:c})
